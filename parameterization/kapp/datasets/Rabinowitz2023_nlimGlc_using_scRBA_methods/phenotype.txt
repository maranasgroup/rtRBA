* Parameters defined in this file will overwrite ones define in GAMS runRBA.gms file

* include automatically generated medium
$include %model_root_path%GAMS/model/gsm-medium-auto.txt

* included in model-version-settings:
* NGAM (N-lim and C-lim chemostats using glucose)
* max_allowed_mito_proteome_allo_fraction
* nonmodeled_proteome_allocation
$include %gms_path%model-version-settings.txt

* file with settings updated by build_model scripts, to help with managing multiple GSM models

** FOR PROTEOMICS ONLY
$setGlobal vglc 16.71210577
* medium based on composition from exp. data
v.up('RXN-EX_k_e_REV-SPONT') = %nscale% * 4.42479678935696;
v.up('RXN-EX_nh4_e_REV-SPONT') = %nscale% * 0.455706519648546;
v.up('RXN-EX_so4_e_REV-SPONT') = %nscale% * 0.227853259824273;
v.up('RXN-EX_pi_e_REV-SPONT') = %nscale% * 4.42479678935696;
v.up('RXN-EX_glc__D_e_REV-SPONT') = %nscale% * 16.7121057688607;

* don't enforce other MFA bounds since model has changed since then, and the MFA only uses 13C for tracing

* adjust slack for deviations from measured enzyme production (0 to allow none, 1 to allow no enzyme production)
*venzSlack.up(j) = 0; 
*fluxSlack.up(n) = 1e10;
* proteins that must be produced at their measured value or no more than x times that value. ONLY turned these on to account for suspected ribo subunits with unusually low abundances (otherwise, would need kribo of 11.73) 
$setGlobal prosynSlackAllow 1000

$setGlobal mu 0.1
v.fx('BIOSYN-BIODILAERO') = %mu% * %nscale%;
* Ribosome efficiency
$setGlobal kribonuc 6.6*3600
$setGlobal kribomito 6.6*3600
* extra dummy protein for 0.3% of proteome not identified in measurements
Equation dummyUnidentified; dummyUnidentified.. v('PROSYN-PROTDUMMYUNIDENTIFIED') =e= 0.003 * v('BIOSYN-PROTTOBIO');

* From scRBA: Disable FADH2 transport across mitochondrial membrane. Enable this creating fumarate-succinate shuttle that enables proton gradient generation
v.fx('RXN-FADH2t_c_m_FWD-rt5791') = 0 * %nscale%;

** FROM PYCORE VERSION

* Substrate and oxygenation
v.up('RXN-EX_glc__D_e_REV-SPONT') = %vglc% * %nscale%;
v.fx('RXN-EX_glc__D_e_FWD-SPONT') = 0 * %nscale%;

v.up('RXN-EX_o2_e_REV-SPONT') = 1e3 * %nscale%;
v.fx('RXN-EX_o2_e_FWD-SPONT') = 0 * %nscale%;

* Turn off forming incomplete functional enzyme (to prevent cheap incomplete complex from being formed)
*$include ./incomplete_enzyme_complex_off.txt
